<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>

  <meta name=viewport content="width=device-width, initial-scale=1">


  <script src="https://unpkg.com/vue@2.5.16/dist/vue.js"></script>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="css/styles.css" />

  <title>FlickList</title>
</head>
<body>
  <div id="mount-target">
    <header class="jumbotron">
      <h1>FlickList</h1>
      <p class="text-muted">Keep a list of all the movies you've been meaning to watch.</p>
    </header>

    <div class="main-content">

      <div class="row">

        <section id="section-watchlist">
          <header>
            <h2>My Watchlist</h2>
            <hr/>
          </header>

          <ul class="list-inline">
            <li
              v-for="movie in watchlistItems"
              class="panel panel-default"
            >
              <div class="panel-heading">
                <h6>{{ movie.title }}</h6>
              </div>
              <div class="panel-body">
                <img class="img-responsive" :src="posterUrl(movie)" />
                <button @click="removeFromWatchlist(movie)">
                  I watched it
                </button>
              </div>
            </li>
          </ul>
        </section>

        <section class="container-fluid" id="section-browse">
          <!-- TODO
          Rearrange the layout of this section using the Bootstrap grid system to match the specification
          -->
          <div class="row">
            <div class="col-sm-8">
              <div class="well">
                <div class="row">
                  <div class="col-xs-7">
                    <div v-if="activeMovie">
                      <h4 class="title">{{ activeMovie.title }}</h4>
                      <hr/>
                      <p class="overview">{{ activeMovie.overview }}</p>
                    </div>
                  </div>
                  <div class="col-xs-5">
                    <div id="browse-carousel">
                      <!-- Wrapper for slides -->
                      <ul class="carousel-inner" role="listbox">
                        <li
                            v-for="(movie, ix) in browseItems"
                            :class="{
                                'carousel-item': true,
                                active: ix == activeIx,
                            }"
                        >
                          <img :src="posterUrl(movie)" />
                        </li>
                      </ul>

                      <!-- Left and right controls -->
                      <a class="left carousel-control" role="button" @click="prevImg">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                      </a>
                      <a class="right carousel-control" role="button" @click="nextImg">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                      </a>
                    </div>
                    <button
                      class="btn btn-primary add-to-watchlist"
                      @click="addToWatchlist(activeMovie)"
                    >
                      Add to Watchlist
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <header>
                  <h2>Browse Movies</h2>

                  <form id="form-search">
                    <div class="input-group">
                      <input type="text" class="form-control" v-model="searchTerm" />
                      <span class="input-group-btn">
                        <input
                          type="submit" value="Search By Topic"
                          class="btn btn-primary"
                          @click.prevent="searchMovies(searchTerm)"
                        />
                      </span>
                    </div>
                </form>
              </header>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
  <script src="js/flicklist.js"></script>

</body>
</html>
